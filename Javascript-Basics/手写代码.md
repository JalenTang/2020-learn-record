# 手写 JS 相关代码

## 节流和防抖

1. 节流 throttle
   - an original function will be invoked at most once per every **_wait_** millisecond
   - 频繁触发的函数在一段时间内最多只调用一次
   - 本质是稀释函数的执行频率
   - 应用: `window.onresize()` 事件、`mousemove` 事件、上传进度等

    ``` javascript
    // 时间戳比较实现
    function throttle(func, wait) {
        let previous = 0

        return function() {
            const context = this
            const now = +Date.now()
            if (now - previous > wait) {
                func.apply(context, arguments)
                previous = now
            }
        }
    }
    ```

2. 防抖 debounce
   - an original function will be invoked after **_wait_** millisecond have elapsed
   - 频繁触发的函数会在一段时间之后调用,在此期间的重复调用会重新开始计时
   - 本质是延迟函数的执行时间
   - 应用: `scroll()`事件、

    ```javascript
    function debounce(func, wait) {
    let timeout

    return function() {
        const context = this

        if (timeout) clearTimeout(timeout)
        timeout = setTimeout(() => {
        func.apply(context, arguments)
        }, wait)
    }
    }
    ```

## Promise
